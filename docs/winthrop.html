<!DOCTYPE html>  <html> <head>   <title>winthrop.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               winthrop.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">commander</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;commander&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;queue-flow&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lambda-js&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">run</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;child_process&#39;</span><span class="p">).</span><span class="nx">exec</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Parse command-line options</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">commander</span>
    <span class="p">.</span><span class="nx">version</span><span class="p">(</span><span class="s1">&#39;0.1.0&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">usage</span><span class="p">(</span><span class="s1">&#39;[options] &lt;reponame&gt;&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-b, --browserify&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that the code needs to be run through browserify before minification (default: false)&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-c, --coverage&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that source code coverage should be included (default: true)&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-d, --doc &lt;style&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies the documentation style to be used to analyze source code (default: docco)&#39;</span><span class="p">,</span> <span class="s1">&#39;docco&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-e, --executable&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that the module can be executed (default: false)&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-g, --global&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that the code prefers to be installed globally (default: false)&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-h, --halstead&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that Halstead complexity should be calculated (default: true)&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-l, --license&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies the license to use (default: MIT)&#39;</span><span class="p">,</span> <span class="s1">&#39;MIT&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-m, --minify&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that the code should be minified (default: true)&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-o, --open&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that this is open source code (default: true)&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-p, --blog&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that this is a GitHub blog and the &quot;gh-pages&quot; branch should be master (default: false)&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-s, --site&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies that a &quot;gh-pages&quot; branch should be created (default: true, --no-site for false)&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;-t, --test &lt;suite&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;Specifies the test framework to use (default: nodeunit)&#39;</span><span class="p">,</span> <span class="s1">&#39;nodeunit&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Verify doc, test, and license are valid</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">switch</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">&#39;docco&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;jsdoc3&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;none&#39;</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="k">default</span><span class="o">:</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="s1">&#39;Only &quot;docco&quot; and &quot;jsdoc3&quot; are currently supported for documentation.&#39;</span><span class="p">);</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">switch</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">&#39;nodeunit&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;mocha&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;expresso&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;none&#39;</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="k">default</span><span class="o">:</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="s1">&#39;Testing frameworks supported: nodeunit, mocha, expresso&#39;</span><span class="p">);</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">switch</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">license</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">&#39;MIT&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;BSD&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;GPL&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;LGPL&#39;</span><span class="o">:</span>
    <span class="k">case</span> <span class="s1">&#39;Proprietary&#39;</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="k">default</span><span class="o">:</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="s1">&#39;MUST have a license (even &quot;Proprietary&quot;)&#39;</span><span class="p">);</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Grab the package.json object and populate it</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="kr">package</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">json</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/../lib/package.json&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">))</span> <span class="p">};</span>
<span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">browserify</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">.</span><span class="nx">browserify</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">coverage</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">.</span><span class="nx">jscoverage</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">doc</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">[</span><span class="nx">commander</span><span class="p">.</span><span class="nx">doc</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">executable</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">bin</span> <span class="o">=</span> <span class="s2">&quot;./bin/&quot;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">global</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">preferGlobal</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">halstead</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">[</span><span class="s1">&#39;complexity-report&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">minify</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">[</span><span class="s1">&#39;uglify-js&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">commander</span><span class="p">.</span><span class="nx">open</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="kr">private</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">test</span><span class="p">)</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">devDependencies</span><span class="p">[</span><span class="nx">commander</span><span class="p">.</span><span class="nx">test</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;*&quot;</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Build the prepublish.sh script</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">prepublish</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">sh</span><span class="o">:</span> <span class="p">[]</span> <span class="p">};</span>
<span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;#!/usr/bin/env bash&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">test</span><span class="p">)</span> <span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Run the tests&#39;</span><span class="p">,</span>
    <span class="s1">&#39;npm test&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">doc</span><span class="p">)</span> <span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Build documentation&#39;</span><span class="p">,</span>
    <span class="nx">commander</span><span class="p">.</span><span class="nx">doc</span> <span class="o">+</span> <span class="s1">&#39; ./lib/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">site</span><span class="p">)</span> <span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Build the index page&#39;</span><span class="p">,</span>
    <span class="s1">&#39;md2jekyllhtml readme.md&#39;</span><span class="p">,</span>
    <span class="s1">&#39;touch new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;echo --- &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;echo layout: site &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;echo title: &#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39; &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;echo subtitle: &#39;</span> <span class="o">+</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span><span class="p">.</span><span class="nx">description</span> <span class="o">+</span> <span class="s1">&#39; &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;echo --- &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cat readme.html &gt;&gt; new-index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rm readme.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git stash&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;# Put the documentation in the gh-pages branch&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mv docs docs-new&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git checkout gh-pages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rm -rf docs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rm -rf index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mv docs-new docs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mv new-index.html index.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git commit -am &quot;Automatic documentation for version $npm_package_version&quot;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git checkout master&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git stash pop&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">minify</span> <span class="o">&amp;&amp;</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">browserify</span><span class="p">)</span> <span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Generate the minified version of the code&#39;</span><span class="p">,</span>
    <span class="s1">&#39;browserify ./lib/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;.js -o browserify-temp.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;uglifyjs ./lib/browserify-temp.js &gt; ./lib/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;.min.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rm ./lib/browserify-temp.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">minify</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">commander</span><span class="p">.</span><span class="nx">browserify</span><span class="p">)</span> <span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Generate the minified version of the code&#39;</span><span class="p">,</span>
    <span class="s1">&#39;uglifyjs ./lib/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;.js &gt; ./lib/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;.min.js&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
<span class="nx">prepublish</span><span class="p">.</span><span class="nx">sh</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# Commit the changes to master&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git commit -am &quot;Automatic minification for version $npm_package_version&quot;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git tag $npm_package_version&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git push&#39;</span><span class="p">,</span>
    <span class="s1">&#39;git push --tags&#39;</span>
<span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Build the readme.md file</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">readme</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">md</span><span class="o">:</span> <span class="p">[]</span> <span class="p">};</span>
<span class="nx">readme</span><span class="p">.</span><span class="nx">md</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;# &#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Description Here!&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;## Install&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;```sh&#39;</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">global</span><span class="p">)</span> <span class="nx">readme</span><span class="p">.</span><span class="nx">md</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;npm install -g &#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span>
<span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">commander</span><span class="p">.</span><span class="nx">global</span><span class="p">)</span> <span class="nx">readme</span><span class="p">.</span><span class="nx">md</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;npm install &#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span>
<span class="p">);</span>
<span class="nx">readme</span><span class="p">.</span><span class="nx">md</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="s1">&#39;```&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;## Usage&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Fill in usage here&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;## License (&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">license</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/../lib/license.&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">license</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
<span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Async portions below</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Build the site template</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">site</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">html</span><span class="o">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/../lib/site.html&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="p">};</span>
<span class="nx">site</span><span class="p">.</span><span class="nx">html</span> <span class="o">=</span> <span class="nx">site</span><span class="p">.</span><span class="nx">html</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\${reponame}/g</span><span class="p">,</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\${repopath}/g</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Build the .travis.yml file</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">travis</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">yml</span><span class="o">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">__dirname</span> <span class="o">+</span> <span class="s1">&#39;/../lib/.travis.yml&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Create the repo and finish the site.html and .travis.yml files</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">q</span><span class="p">([</span><span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">chdir</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span><span class="p">);</span>
        <span class="k">return</span> <span class="s2">&quot;git init&quot;</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;npm config get username&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">site</span><span class="p">.</span><span class="nx">html</span> <span class="o">=</span> <span class="nx">site</span><span class="p">.</span><span class="nx">html</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\${username}/g</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
        <span class="k">return</span> <span class="s2">&quot;npm config get email&quot;</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">travis</span><span class="p">.</span><span class="nx">yml</span> <span class="o">=</span> <span class="nx">travis</span><span class="p">.</span><span class="nx">yml</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\${email}/g</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">blog</span> <span class="o">?</span> <span class="s1">&#39;blog&#39;</span> <span class="o">:</span> <span class="s1">&#39;full&#39;</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">branch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">val</span><span class="p">;</span> <span class="p">});</span>
<span class="nx">q</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _layouts&quot;&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;site.html&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/_layouts/site.html&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;cp &quot; + __dirname + &quot;/../lib/_config.yml .&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _includes; touch _includes/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _posts; touch _posts/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _site; touch _site/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir images; cp &quot; + __dirname + &quot;/../lib/checker.png&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;touch index.html;echo --- &gt;&gt; index.html;echo layout: site &gt;&gt; index.html;echo title: &quot; + commander.reponame + &quot; &gt;&gt; index.html;echo subtitle: &quot; + package.json.description + &quot; &gt;&gt; index.html;echo --- &gt;&gt; index.html&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir javascripts;cp &quot; + __dirname + &quot;/../lib/scale.fix.js javascripts/scale.fix.js&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir stylesheets;cp &quot; + __dirname + &quot;/../lib/pygment_trac.css stylesheets/pygment_trac.css;cp &quot; + __dirname + &quot;/../lib/styles.css&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;cp &quot; + __dirname + &quot;/../lib/gitignore .gitignore&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git commit -am \&#39;Initial commit by winthrop\&#39;&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">);</span>
<span class="nx">q</span><span class="p">(</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">retVal</span> <span class="o">=</span> <span class="s2">&quot;cp &quot;</span> <span class="o">+</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s2">&quot;/../lib/gitignore .gitignore;&quot;</span><span class="p">;</span>
        <span class="nx">retVal</span> <span class="o">+=</span> <span class="s2">&quot;mkdir lib;touch lib/&quot;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s2">&quot;.js;&quot;</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">test</span><span class="p">)</span> <span class="nx">retVal</span> <span class="o">+=</span> <span class="s2">&quot;mkdir test;touch test/test.js;&quot;</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">commander</span><span class="p">.</span><span class="nx">executable</span><span class="p">)</span> <span class="nx">retVal</span> <span class="o">+=</span> <span class="s2">&quot;mkdir bin;touch bin/&quot;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s2">&quot;.js;chmod +x bin/&quot;</span> <span class="o">+</span> <span class="nx">commander</span><span class="p">.</span><span class="nx">reponame</span> <span class="o">+</span> <span class="s2">&quot;.js;&quot;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">retVal</span><span class="p">;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;travis.yml&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/.travis.yml&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;JSON.stringify(package.json)&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/package.json&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;prepublish.sh.join(&quot;\n&quot;)&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/prepublish.sh&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;chmod +x prepublish.sh&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;readme.md.join(&quot;\n&quot;)&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/readme.md&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git commit -am \&#39;Initial commit by winthrop\&#39;&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git checkout --orphan gh-pages&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git rm -rf .&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _layouts&quot;&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;site.html&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">fs</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/_layouts/site.html&#39;</span><span class="p">),</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;cp &quot; + __dirname + &quot;/../lib/_config.yml .&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _includes; touch _includes/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _posts; touch _posts/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir _site; touch _site/.gitkeep&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir images; cp &quot; + __dirname + &quot;/../lib/checker.png&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir javascripts;cp &quot; + __dirname + &quot;/../lib/scale.fix.js javascripts/scale.fix.js&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;mkdir stylesheets;cp &quot; + __dirname + &quot;/../lib/pygment_trac.css stylesheets/pygment_trac.css;cp &quot; + __dirname + &quot;/../lib/styles.css&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;cp &quot; + __dirname + &quot;/../lib/gitignore .gitignore&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git commit -am \&#39;Initial commit by winthrop\&#39;&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;git checkout master&quot;&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">run</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 